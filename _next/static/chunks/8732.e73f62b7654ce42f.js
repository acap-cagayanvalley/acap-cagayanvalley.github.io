(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8732],{27840:function(e,t,n){"use strict";var i=n(85893),r=n(15861);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=(0,n(11496).ZP)((function(e){return(0,i.jsx)(r.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){a(e,t,n[t])}))}return e}({component:"p",variant:"caption"},e))}))((function(e){var t=e.theme;return{color:t.palette.text.secondary,"& a":{color:t.palette.green.dark,textDecoration:"none"},"& a:visited":{color:t.palette.green.dark},"& a:hover, span:hover":{textDecoration:"underline"}}}));t.Z=o},58732:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Oe}});var i=n(34051),r=n.n(i),a=n(85893),o=n(9669),s=n.n(o),l=n(67294),c=n(9473),u=n(4936),d=n(98396),p=n(60795),h=n(86105),f=n(38303),x=n(72471),m=n(27409),g=n(97651),v=n(87357),y=n(41664),b=n(25675),w=n(76295),j=n(66242),S=n(98456),_=n(86886),L=n(61903),C=n(15861),O=n(26660),k={daily:{width:{xs:"75px",sm:"65px"},minWidth:{xs:"75px",sm:"65px"},minHeight:"55px",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"rgba(255, 255, 255, 1.0)",padding:function(e){return e.spacing(1)},margin:"2px",borderRadius:"5px","& div":{textAlign:"center"},"& .temp-label":{display:"flex",justifyContent:"space-between",fontSize:{xs:"8px",sm:"9px"}},"& .daily-date":{fontSize:{xs:"10px",sm:"9px"}}},dailyToday:{width:{xs:"75px",sm:"65px"},minWidth:{xs:"75px",sm:"65px"},minHeight:"55px",fontWeight:"bold",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"rgba(139, 195, 74, 0.5)",padding:function(e){return e.spacing(1)},margin:"2px",borderRadius:"5px","& div":{textAlign:"center"},"& .temp-label":{display:"flex",justifyContent:"space-between",fontSize:{xs:"8px",sm:"9px"}},"& .daily-date":{fontSize:{xs:"10px",sm:"9px"}}}},I=n(63365),E=n(48038);var N=function(e){var t=e.dailyweather,n=function(){var e=new Date,t=e.toLocaleDateString("en-US",{weekday:"short"}),n=e.toLocaleDateString("en-US",{month:"short"}),i=e.getDate().toString().padStart(2,"0");return"".concat(t," ").concat(n," ").concat(i)}(),i=t.day===n?k.dailyToday:k.daily;return(0,a.jsxs)(v.Z,{sx:i,children:[(0,a.jsx)("div",{className:"daily-date",children:t.day}),(0,a.jsx)("div",{children:(0,a.jsx)(b.default,{unoptimized:!0,src:t.icon,height:25,width:25,loader:O.imageLoader,alt:t.day})}),(0,a.jsxs)("div",{className:"temp-label",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(I.Z,{fontSize:"12px"}),(0,a.jsxs)("strong",{children:[t.temp_mean,"\xb0"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(E.Z,{fontSize:"12px"}),t.wind_speed]})]})]})},P=n(27840);var z,A,M,T={card:{backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",minWidth:{xs:"200px",sm:"380px"},maxWidth:"380px",marginTop:function(e){return e.spacing(3)},padding:function(e){return e.spacing(2)},borderRadius:function(e){return e.spacing(1)},"& h5":{marginBottom:function(e){return e.spacing(2)},fontSize:"18px"},"& h6":{fontSize:"16px"},"& .span-source":{"& a":{color:function(e){return e.palette.primary.main},textDecoration:"none"},"& a:hover":{color:function(e){return e.palette.third.main}}}},cardInfo:{backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",width:"100%",maxWidth:"490px",padding:function(e){return e.spacing(1)},marginTop:function(e){return e.spacing(3)},fontSize:{xs:"11px",sm:"14px"},"& td":{padding:(z={xs:0},A="xs",M="1px",A in z?Object.defineProperty(z,A,{value:M,enumerable:!0,configurable:!0,writable:!0}):z[A]=M,z)}},autocomplete:{maxWidth:"100%",marginTop:function(e){return e.spacing(1)}},weathertoday:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"10px",flexDirection:{xs:"column",b4xs:"row",sm:"row"},"& .icon-temp":{display:"flex",alignItems:"center",gap:"10px"},"& .temperature":{fontSize:"30px",fontWeight:"bold"},"& .weather-details":{paddingTop:"12px",marginLeft:"16px",fontSize:"10px"}},info:{minWidth:"285px",minHeight:"90px",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(2)},textAlign:"center","& p":{color:"red",fontSize:"12px"}}},D=n(901);function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){B(e,t,n[t])}))}return e}var Z=function(e){var t=e.sel_options,n=e.weather,i=e.forecast,r=e.record,o=e.isSmallScreen,s=void 0!==o&&o,u=e.onSelectItemChange,d=(0,l.useState)(0),p=d[0],h=d[1],f=(0,c.v9)((function(e){return e.provinces})),x=(0,c.v9)((function(e){return e.municipalities})),m=(0,c.v9)((function(e){return e.tendayweather})),g=(0,l.useState)(!0),k=g[0],I=g[1];(0,l.useEffect)((function(){var e=function(){return h((window.innerWidth-E())/2+24)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var E=function(){var e=document.getElementById("header-contents");return e?e.getBoundingClientRect().width:1200};return(0,l.useEffect)((function(){var e=f.status!==D.G.FULLFILLED||m.status!==D.G.FULLFILLED;I(e)}),[f.status,m.status,f.error,m.error]),(0,a.jsxs)(v.Z,{sx:{position:"absolute",top:function(e){return e.constants.navbar.outerHeight-35},right:p,marginLeft:"24px",zIndex:400},className:"mui-fixed",children:[(0,a.jsxs)(j.Z,{variant:"outlined",sx:T.card,style:{backgroundColor:"rgba(139, 195, 74, 0.5)"},children:[(0,a.jsxs)(v.Z,{children:[(0,a.jsx)(C.Z,{variant:"h5",children:"Cagayan Valley Region Weather Today"}),(0,a.jsx)(w.Z,{disablePortal:!0,id:"province",value:f.province,disabled:0===f.ids.length||k,options:Object.values(f.entities),size:"small",renderInput:function(e){return(0,a.jsx)(L.Z,W({},e,{label:null===f.province?"Select a province":"Province"}))},isOptionEqualToValue:function(e,t){return e.label===t.label},onChange:function(e,t){return u(e,W({},t,{from:"province"}))}}),(0,a.jsx)("br",{}),(0,a.jsx)(w.Z,{disablePortal:!0,id:"municipality",value:x.municipality,disabled:0===x.ids.length||k,options:Object.values(x.entities),size:"small",renderInput:function(e){return(0,a.jsx)(L.Z,W({},e,{label:null===x.municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,t){return e.label===t.label},getOptionDisabled:function(e){return void 0!==e.iscalendar},onChange:function(e,t){return u(e,W({},t,{from:"municipality",province:f.province}))}})]}),t.loading&&(0,a.jsx)(v.Z,{sx:T.info,style:{minWidth:s?window.innerWidth-80:"285px"},children:(0,a.jsx)(S.Z,{size:24,color:"secondary"})}),""===t.error&&!t.loading&&null!==t.sel_municipality&&""!==n.description&&(0,a.jsxs)(v.Z,{sx:T.weathertoday,children:[(0,a.jsxs)("div",{className:"icon-temp",children:[(0,a.jsx)(b.default,{unoptimized:!0,src:n.icon,height:70,width:70,loader:O.imageLoader,alt:n.description}),(0,a.jsxs)("div",{className:"temperature",children:[n.temp,"\xb0C"]})]}),(0,a.jsxs)("div",{className:"weather-details",children:[(0,a.jsxs)("div",{children:["Date today: ",n.datenow]}),(0,a.jsxs)("div",{children:["Humidity: ",n.humidity]}),(0,a.jsxs)("div",{children:["Wind speed: ",n.wind]}),(0,a.jsx)("div",{children:n.description?"".concat(n.description.charAt(0).toUpperCase()).concat(n.description.slice(1)):""})]})]}),""===t.error&&!t.loading&&null===t.sel_municipality&&(0,a.jsx)(v.Z,{sx:T.info,style:{minWidth:s?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:"\xa0"})}),""!==t.error&&(0,a.jsx)(v.Z,{sx:T.info,style:{minWidth:s?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:t.error})})]}),i.length>0&&(0,a.jsxs)(j.Z,{variant:"outlined",sx:T.card,style:{marginTop:"10px",paddingBottom:"2px"},children:[(0,a.jsx)(C.Z,{variant:"h6",children:"10-Day Rainfall Forecast"}),(0,a.jsxs)(P.Z,{sx:{marginBottom:"16px",fontSize:"11px"},children:["View the full 10-Day Weather Forecast"," ",(0,a.jsx)(y.default,{href:"/weather-services",children:"here"}),"."]}),(0,a.jsx)(_.ZP,{container:!0,children:i.map((function(e,t){return(0,a.jsx)(_.ZP,{item:!0,children:(0,a.jsx)(N,{dailyweather:e})},"daily-".concat(t))}))}),(0,a.jsxs)(C.Z,{variant:"caption",style:{fontSize:"10px"},className:"span-source",children:["source:"," ",(0,a.jsx)(y.default,{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/10-day-climate-forecast",children:"PAGASA's 10-Day Climate Forecast"})]})]}),s&&null!==r&&(0,a.jsx)(j.Z,{variant:"outlined",sx:T.cardInfo,children:(0,a.jsx)("table",{children:(0,a.jsx)("tbody",{children:["Barangay","Municipality","Province","Association"].map((function(e,t){return["lat","lon"].includes(e)?(0,a.jsx)("tr",{},t):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[e,":"]})}),(0,a.jsx)("td",{children:r[e.toLowerCase()]})]},t)}))})})})]})},R=n(18217),Y=n(23549),H=n(56867),U=n(1902);function G(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(i,r)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){G(a,i,r,o,s,"next",e)}function s(e){G(a,i,r,o,s,"throw",e)}o(void 0)}))}}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){F(e,t,n[t])}))}return e}var X={sel_municipality:null,sel_province:"",loading:!0,error:""},J={icon:"https://openweathermap.org/img/wn/10d@2x.png",temp:"00",pressure:"0000 hPa",humidity:"0%",wind:"00 meter/sec"};var q=function(e){var t=e.record,n=e.isSmallScreen,i=e.onSelectMunicipality,o=(0,l.useState)(X),s=o[0],u=o[1],d=(0,l.useState)(J),p=d[0],h=d[1],f=(0,l.useState)([]),x=f[0],m=f[1],g=(0,l.useState)(!1),v=g[0],y=g[1],b=(0,c.I0)(),w=(0,c.v9)((function(e){return e.provinces})),j=w.ids,S=w.entities,_=w.municipalities,L=w.province,C=(0,c.v9)((function(e){return e.municipalities})).municipality,O=(0,c.v9)((function(e){return e.tendayweather})),k=O.ids,I=O.entities,E=O.status;(0,l.useEffect)((function(){b((0,R.QA)(null))}),[b]),(0,l.useEffect)((function(){j.length>0&&(b((0,Y.Wn)(Object.values(S)[0])),b((0,H.R)(Object.values(S)[0].label)).unwrap().then((function(){y(!0)})))}),[b,j,S]),(0,l.useEffect)((function(){if(k.length>0&&E===D.G.FULLFILLED&&v&&null!==L){var e=null;if(C)e=C;else{var t=Object.keys(_).find((function(e){return e===L.label}));t&&_[t].length>0&&(e=_[t][0])}b((0,R.X4)(_[L.label]||[])),b((0,R.QA)(e))}}),[b,k,I,E,v,C,_,L]),(0,l.useEffect)((function(){null!==C&&v&&u((function(e){return Q({},e,{sel_province:L,sel_municipality:C})}))}),[b,C,L,I,E,v]),(0,l.useEffect)((function(){if(E===D.G.FULLFILLED&&null!==s.sel_municipality&&0===x.length)try{i(s.sel_municipality.label,s.sel_province.label);var e=Object.values(I).find((function(e){return e.municipality===s.sel_municipality.label}));if(e){var t=JSON.parse(e.data),n=(new Date).toDateString(),r=t.find((function(e){return e.day_format===n.substring(0,n.length-5)}))||t[0],a={icon:void 0!==U.Sx.rainfall[r.rainfall]?"images/icons/weather/".concat(U.Sx.rainfall[r.rainfall]):"images/icons/weather/blank_weather.png",temp:Math.round(r.tmean),precipitation:null,humidity:"".concat(z(r.humidity),"%"),datenow:n,wind:"".concat(z(r.wspeed)," mps"),description:"".concat(A(r.rainfall),", ").concat(A(r.cover))},o=[];t.forEach((function(e){var t=new Date("".concat(e.day_format,", ").concat((new Date).getFullYear())),n={day:e.day_format,wind_speed:z(e.wspeed),temp_mean:z(e.tmean),icon:void 0!==e.rainfall?"images/icons/weather/".concat(U.Sx.rainfall[e.rainfall]):"images/icons/weather/blank_weather.png",date:t.toLocaleDateString("en-US"),description:""};o.push(n)})),h(a),m(o),u((function(e){return Q({},e,{loading:!1,error:""})}))}}catch(l){u((function(e){return Q({},e,{loading:!1,error:l.message})}))}}),[E,I,S,x,s.sel_municipality,s.sel_province.label,i]);var N=(0,l.useCallback)(function(){var e=V(r().mark((function e(t,n){var i,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=_[n.label],void 0!==(a=i.find((function(e){return e.label===t})))){e.next=4;break}return e.abrupt("return");case 4:m([]),u(Q({},s,{sel_municipality:a,sel_province:n,loading:!0,error:""})),b((0,H.R)(n.label));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[_,s,b]),P=function(){var e=V(r().mark((function e(t,n){var a,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.label,o=n.from,!a){e.next=21;break}e.t0=o,e.next="province"===e.t0?5:"municipality"===e.t0?9:18;break;case 5:return b((0,Y.Wn)(n)),b((0,H.R)(a)),b((0,R.X4)([])),e.abrupt("break",19);case 9:if(b((0,R.QA)({id:n.id,label:n.label,iscalendar:n.iscalendar})),void 0!==n.id){e.next=16;break}return u(Q({},s,{sel_municipality:null,loading:!1})),h(J),m([]),i(null),e.abrupt("return");case 16:return N(n.label,null===n||void 0===n?void 0:n.province),e.abrupt("break",19);case 18:return e.abrupt("break",19);case 19:e.next=30;break;case 21:e.t1=o,e.next="province"===e.t1?24:"municipality"===e.t1?27:29;break;case 24:return b((0,Y.jg)()),b((0,R.X4)([])),e.abrupt("break",30);case 27:return b((0,R.QA)(null)),e.abrupt("break",30);case 29:return e.abrupt("break",30);case 30:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(e){return Math.round(100*(e+Number.EPSILON))/100},A=function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")};return(0,a.jsx)(Z,{sel_options:s,weather:p,forecast:x,record:t,isSmallScreen:n,onSelectItemChange:P})},K=n(82280),$=n(22797),ee=n(38895),te={container:{width:"380px",maxWidth:"95vw",backgroundColor:"rgba(255, 255, 255, 0.5)",borderRadius:"16px",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)",marginBottom:"20px",transition:"all 0.3s ease"},accordionHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%",padding:"1px 0"},accordionHeaderLocation:{display:"flex",alignItems:"center",marginLeft:"8px"},highlightBox:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px",borderRadius:"12px",backgroundColor:"#f7f9fc",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.05)",height:"120px",marginBottom:"5px"},highlightValue:{fontSize:"36px",fontWeight:"bold",color:"#2c3e50",margin:"0"},highlightUnit:{fontSize:"24px",color:"#7f8c8d",marginLeft:"5px"},highlightLabel:{fontSize:"16px",fontWeight:"600",color:"#34495e",marginBottom:"3px"},highlightDescription:{fontSize:"11px",color:"#7f8c8d",marginTop:"3px",lineHeight:"1.3",maxWidth:"250px"},highlightLeft:{display:"flex",flexDirection:"column",justifyContent:"center",maxWidth:"70%"},highlightRight:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center"},gridBox:{width:"100px",height:"90px",margin:"3px",padding:"8px 6px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"8px",backgroundColor:"#fff",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",cursor:"pointer",transition:"all 0.2s ease","&:hover":{boxShadow:"0 3px 6px rgba(0, 0, 0, 0.15)",transform:"translateY(-2px)"}},gridBoxValue:{fontSize:"15px",fontWeight:"bold",color:"#2c3e50",display:"flex",alignItems:"baseline"},gridBoxUnit:{fontSize:"11px",color:"#7f8c8d",marginLeft:"2px"},gridBoxLabel:{fontSize:"11px",color:"#34495e",marginTop:"4px",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"}},ne=function(e){var t=e.imageLink,n=e.rotationValue,i=e.alt,r=void 0===i?"Sensor direction":i,o=e.width,s=void 0===o?50:o,l=e.height,c=void 0===l?50:l,u="number"===typeof n?n:0;return(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"".concat(s,"px"),height:"".concat(c,"px"),position:"relative"},children:(0,a.jsx)("div",{style:{transform:"rotate(".concat(u,"deg)"),transition:"transform 0.5s ease-out",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,a.jsx)(b.default,{unoptimized:!0,src:(0,O.assetPrefixer)(t),width:.8*s,height:.8*c,loader:O.imageLoader,alt:r,style:{objectFit:"contain"}})})})},ie=function(e){var t=e.value,n=e.label,i=e.unit,r=e.imageLink,o=e.description,s=e.handleHighlightClick,l="Wind Direction"===n;return(0,a.jsxs)("div",{style:te.gridBox,onClick:function(){return s({value:t,label:n,unit:i,imageLink:r,description:o})},children:[(0,a.jsx)("div",{style:{height:"35px",display:"flex",alignItems:"center",justifyContent:"center"},children:l?(0,a.jsx)(ne,{imageLink:r,rotationValue:parseFloat(t),alt:n,width:35,height:35}):(0,a.jsx)(b.default,{unoptimized:!0,src:(0,O.assetPrefixer)(r),height:35,width:35,loader:O.imageLoader,alt:n})}),(0,a.jsxs)("div",{style:te.gridBoxValue,children:[t,(0,a.jsx)("span",{style:te.gridBoxUnit,children:i})]}),(0,a.jsx)("div",{style:te.gridBoxLabel,children:n})]})},re=function(e){var t=e.value,n=e.label,i=e.unit,r=e.imageLink,o=e.description,s="Wind Direction"===n;return(0,a.jsxs)("div",{style:te.highlightBox,children:[(0,a.jsxs)("div",{style:te.highlightLeft,children:[(0,a.jsx)("div",{style:te.highlightLabel,children:n}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{style:te.highlightValue,children:t}),(0,a.jsx)("span",{style:te.highlightUnit,children:i})]}),(0,a.jsx)("div",{style:te.highlightDescription,children:o})]}),(0,a.jsx)("div",{style:te.highlightRight,children:s?(0,a.jsx)(ne,{imageLink:r,rotationValue:parseFloat(t),alt:n,width:90,height:90}):(0,a.jsx)(b.default,{unoptimized:!0,src:(0,O.assetPrefixer)(r),height:70,width:70,loader:O.imageLoader,alt:n})})]})},ae=n(27484),oe=n.n(ae),se=n(70178),le=n.n(se),ce=n(47312),ue=n(18972),de=n(94054),pe=n(18360);function he(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(i,r)}var fe={BALLESTEROS:"21187327",ILAGAN:"21154323",BENITO:"21037051",NAGTIPUNAN:"21661187",BAYOMBONG:"21949814"},xe=function(e){return{Temperature:"Temperature",RH:"RH",Pressure:"Pressure","Wind Speed":"Wind_Speed","Gust Speed":"Gust_Speed","Wind Direction":"Wind_Direction",Rain:"Rain","Dew Point":"Dew_Point","Solar Radiation":"Solar_Radiation"}[e]||e.replace(/\s+/g,"_")},me=function(){var e=(0,l.useState)(0),t=e[0],n=e[1],i=(0,l.useState)([]),o=i[0],c=i[1],u=(0,l.useState)(),d=u[0],p=u[1],h=(0,l.useState)(!0),f=h[0],x=h[1],m=(0,l.useState)("BAYOMBONG"),g=m[0],y=m[1],w=(0,l.useState)(null),j=w[0],_=w[1];(0,l.useEffect)((function(){var e=function(){var e,t=(e=r().mark((function e(){var t,n,i,a,o,l,u,d,h,f,m;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),oe().extend(le()),a=oe().utc().format("YYYY-MM-DD HH:mm:ss"),o=oe().utc().subtract(10,"minutes").format("YYYY-MM-DD HH:mm:ss"),l=fe[g],e.next=9,s().get("https://api.licor.cloud/v1/data/",{headers:{Authorization:"Bearer ".concat("qyhHavbcPCfwxO74Te0Bjk0SaacxsYv8KnCLmTgnBi2bT86u")},params:{loggers:l,start_date_time:o,end_date_time:a}});case 9:if((u=e.sent).data){e.next=12;break}return e.abrupt("return");case 12:d=null===u||void 0===u||null===(t=u.data)||void 0===t?void 0:t.data.filter((function(e){return"Battery"!==e.sensor_measurement_type})),h=d,d.length>9&&(h=d.slice(-9)),c(h),(f=h.find((function(e){return"Temperature"===e.sensor_measurement_type})))?p({value:f.value.toFixed(1),label:f.sensor_measurement_type,unit:f.unit,imageLink:"images/icons/aws/".concat(xe(f.sensor_measurement_type),".png"),description:L(f.sensor_measurement_type)}):h.length>0&&(m=h[0],p({value:m.value.toFixed(1),label:m.sensor_measurement_type,unit:m.unit,imageLink:"images/icons/aws/".concat(xe(m.sensor_measurement_type),".png"),description:L(m.sensor_measurement_type)})),(null===u||void 0===u||null===(n=u.data)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.length)>0&&u.data.data[0].timestamp?_(u.data.data[0].timestamp):_(a),x(!1),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),console.error("Fetch error:",e.t0.response?e.t0.response.data:e.t0.message),x(!1);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})),function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){he(a,i,r,o,s,"next",e)}function s(e){he(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[g]);var L=function(e){return{Temperature:"The temperature of the Earth's atmosphere at different altitudes",Humidity:"Percentage of water vapor in the air compared to the maximum amount the air can hold at a given temperature",Pressure:"The force exerted by the weight of air molecules","Wind Speed":"The rate at which air is moving past a fixed point","Wind Direction":"The direction from which the wind is blowing",Rainfall:"The amount of rain accumulated over a set period of time","Solar Radiation":"The electromagnetic radiation emitted by the sun"}[e]||"Sensor reading from the Automated Weather System"};(0,l.useEffect)((function(){var e=function(){return n((window.innerWidth-k())/10+22)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var k=function(){var e=document.getElementById("header-contents");return e?e.getBoundingClientRect().width:1200},I=function(e){p({value:e.value,label:e.label,unit:e.unit,imageLink:e.imageLink,description:e.description})};return(0,a.jsx)(v.Z,{sx:{position:"absolute",top:k()<710?850:100,left:k()<710?-13:t,marginLeft:"24px",zIndex:400},className:"mui-fixed",id:"aws-container",children:(0,a.jsxs)(K.Z,{defaultExpanded:!0,sx:te.container,children:[(0,a.jsx)(ee.Z,{"aria-controls":"panel1bh-content",id:"panel1bh-header",children:(0,a.jsx)("div",{style:te.accordionHeader,children:(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:(0,a.jsx)(C.Z,{component:"span",sx:{width:"100%",flexShrink:0,fontSize:"22px",marginBottom:"2px"},children:(0,a.jsx)("span",{children:" Automated Weather System "})})})})}),(0,a.jsxs)("div",{style:te.accordionHeaderLocation,children:[(0,a.jsx)(b.default,{unoptimized:!0,src:(0,O.assetPrefixer)("images/icons/aws/location.png"),height:35,width:35,loader:O.imageLoader,alt:"Location"}),(0,a.jsxs)(de.Z,{sx:{ml:1,minWidth:180},size:"small",children:[(0,a.jsx)(ce.Z,{id:"aws-location-select-label",children:"Location"}),(0,a.jsxs)(pe.Z,{labelId:"aws-location-select-label",id:"aws-location-select",value:g,label:"Location",onChange:function(e){y(e.target.value)},MenuProps:{PaperProps:{style:{width:280,maxHeight:300}}},children:[(0,a.jsx)(ue.Z,{value:"BALLESTEROS",children:"Nararagan, Ballesteros, Cagayan"}),(0,a.jsx)(ue.Z,{value:"ILAGAN",children:"Sta. Victoria, City of Ilagan, Isabela"}),(0,a.jsx)(ue.Z,{value:"BENITO",children:"Lucban, Benito Soliven, Isabela"}),(0,a.jsx)(ue.Z,{value:"NAGTIPUNAN",children:"Nagtipunan, Quirino"}),(0,a.jsx)(ue.Z,{value:"BAYOMBONG",children:"Magapuy, Bayombong, Nueva Vizcaya"})]})]})]}),f?(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:[(0,a.jsx)(S.Z,{size:15,color:"info"}),(0,a.jsx)(C.Z,{variant:"h6",sx:{marginLeft:"10px"},children:" Fetching data from AWS... "})]}):(0,a.jsxs)($.Z,{sx:{padding:"16px 16px 16px 16px"},children:[(0,a.jsx)("div",{style:{height:"120px"},children:0===o.length?(0,a.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,a.jsx)(C.Z,{variant:"subtitle2",color:"gray",children:"Cannot connect at this moment"})}):(0,a.jsx)(re,{value:null===d||void 0===d?void 0:d.value,label:null===d||void 0===d?void 0:d.label,unit:null===d||void 0===d?void 0:d.unit,imageLink:null===d||void 0===d?void 0:d.imageLink,description:null===d||void 0===d?void 0:d.description})}),(0,a.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",marginTop:"5px"},children:o.map((function(e,t){return(0,a.jsx)(ie,{value:e.value.toFixed(1),label:e.sensor_measurement_type,unit:e.unit,imageLink:"images/icons/aws/".concat(xe(e.sensor_measurement_type),".png"),description:L(e.sensor_measurement_type),handleHighlightClick:I},t)}))}),(0,a.jsx)("div",{style:{marginTop:"1px",marginBottom:"1px",width:"100%"},children:(0,a.jsxs)(C.Z,{variant:"caption",sx:{fontSize:"12px",fontStyle:"italic",color:"black"},children:["Last updated: ",j?oe().utc(j).add(8,"hour").format("MMMM D, YYYY h:mm A"):"Unknown","."]})})]})]})})};var ge=function(e){var t=e.isSmallScreen,n=(0,l.useState)(!1),i=n[0],r=n[1];return(0,l.useEffect)((function(){r(!0)}),[]),(0,a.jsx)(a.Fragment,{children:i&&(0,a.jsx)(me,{isSmallScreen:t})})},ve=n(99108),ye=n.n(ve);var be=function(e){var t=e.record,n=(0,l.useState)(null),i=n[0],r=n[1],o=(0,l.useState)(null),s=o[0],c=o[1];return(0,l.useEffect)((function(){r(null!==t?[t.lat,t.lon]:null),c(t)}),[t]),null===i?null:(0,a.jsx)(m.J,{position:i,eventHandlers:{mouseover:function(){r(null)},click:function(){r(null)}},children:(0,a.jsx)(g.u,{className:ye().tooltipCustom,permanent:!0,children:(0,a.jsx)("table",{style:{width:"100%"},children:(0,a.jsx)("tbody",{children:["Barangay","Municipality","Province","Association"].map((function(e,t){return["lat","lon"].includes(e)?(0,a.jsx)("tr",{},t):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[e,":"]})}),(0,a.jsx)("td",{children:s[e.toLowerCase()]})]},t)}))})})})})},we=[{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",name:"Street Map",attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"},{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",name:"Topography Map",attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'},{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",name:"Light",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'},{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.png",name:"Terrain Map",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg",name:"Watercolor",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",name:"Satellite Map",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",name:"Shaded Relief",attribution:"Tiles &copy; Esri &mdash; Source: Esri"},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/Ocean_Basemap/MapServer/tile/{z}/{y}/{x}",name:"Ocean",attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}],je={map:{width:"100%",height:"calc(155vh - 88px - 519px)",maxWidth:function(e){return e.breakpoints.xl}}};function Se(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(i,r)}var _e=n(47426).XH.split(","),Le={lat:_e[0],lng:_e[1]},Ce=["Barangay","Municipality","Province","Association"];var Oe=function(e){var t=e.data,n=void 0===t?{villages:[],provincesMunicipalities:[]}:t,i=(0,l.useState)({}),o=i[0],y=i[1],b=(0,l.useState)(""),w=b[0],j=b[1],S=(0,l.useState)(null),_=S[0],L=S[1],C=(0,l.useRef)(null),O=(0,d.Z)((function(e){return e.breakpoints.down("md")})),k=(0,c.v9)((function(e){return e.provinces.ids})),I=(0,l.useRef)(null),E=(0,c.I0)();return(0,l.useEffect)((function(){null===I.current&&0===k.length&&(I.current=!0,E((0,u.Q)()))}),[E,k.length]),(0,l.useEffect)((function(){var e=function(){var e,t=(e=r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="https://api.mapbox.com/datasets/v1/".concat("jonasbesinga","/").concat("clwgcbvwr01np1umi1bciq30t","/features?access_token=").concat("pk.eyJ1Ijoiam9uYXNiZXNpbmdhIiwiYSI6ImNsdnlvNHUxajJ2OWkyaW14MmYweXNtMGIifQ.gxwsrymzVUqjXoPSI8k6Xw"),e.next=4,s().get(t);case 4:n=e.sent,y(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){Se(a,i,r,o,s,"next",e)}function s(e){Se(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[]),(0,a.jsxs)(v.Z,{sx:je.map,style:{minHeight:O?"1300px":"600px"},children:[(0,a.jsxs)(p.h,{style:{height:"100%"},center:Le,zoom:8,maxZoom:12,minZoom:8,tileSize:512,placeholder:(0,a.jsx)("h3",{children:"You need JavaScript to render this app."}),whenCreated:function(e){C.current=e},children:[(0,a.jsx)(h.et,{position:"topleft",children:we.map((function(e,t){return(0,a.jsx)(h.et.BaseLayer,{name:e.name,checked:0===t,children:(0,a.jsx)(f.I,{zIndex:0,attribution:e.attribution,url:e.url})},"map-".concat(t))}))}),(0,a.jsx)(x.Q,{municipality:w,data:o.features,zIndex:1,onEachFeature:function(e,t){t.setStyle(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({fillColor:e.properties.PROVINCE===w?"#ff6a00":"Batanes"===e.properties.PROVINCE?"#23ad49":"Cagayan"===e.properties.PROVINCE?"#6891b7":"Isabela"===e.properties.PROVINCE?"#104624":"Quirino"===e.properties.PROVINCE?"#ca8238":"Nueva Vizcaya"===e.properties.PROVINCE?"#4d443d":"#ffa666",fillOpacity:1,weight:0},"fillOpacity","0.5"))}},Math.random().toString(36).substring(2,8)),n.villages.map((function(e,t){return(0,a.jsx)(m.J,{position:[e.lat,e.lon],id:"tooltip-".concat(t),eventHandlers:{mouseover:function(e){null!==_&&L(null)},click:function(e){null!==_&&L(null)}},children:(0,a.jsx)(g.u,{className:ye().tooltipCustom,direction:"left",children:(0,a.jsx)("table",{style:{width:"100%"},id:"tip-".concat(t),children:(0,a.jsx)("tbody",{children:Ce.map((function(t,n){return["lat","lon"].includes(t)?(0,a.jsx)("tr",{},n):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[t,":"]})}),(0,a.jsx)("td",{children:e[t.toLowerCase()]})]},n)}))})})})},t)})),!O&&(0,a.jsx)(be,{record:_})]}),(0,a.jsx)(ge,{}),(0,a.jsx)(q,{record:_,isSmallScreen:O,onSelectMunicipality:function(e,t){if(null===e&&null===t)j(""),L(null);else{var i=n.villages.find((function(n){return n.municipality===e&&n.province===t}));if(void 0!==i){var r=i.province;j((function(e){return r})),L(i),function(e,t){var n=C.current;n&&n.flyTo([e,t+4],10,{duration:2.5})}(i.lat,i.lon)}else j(""),L(null)}}})]})}},1902:function(e,t,n){"use strict";n.d(t,{J4:function(){return i},Y1:function(){return r},Sx:function(){return a}});var i=[{icon:"cc_sunny_49.svg",label:"No rain",nowrap:!0},{icon:"rainfall_light_rain_49.svg",label:"Light rain"},{icon:"rainfall_moderate_rain_49.svg",label:"Moderate rain"},{icon:"rainfall_heavy_rain_49.svg",label:"Heavy rain"},{icon:"blank_weather.png",label:"Heavy rain",hidden:!0}],r=[{icon:"cc_sunny_49.svg",label:"Sunny"},{icon:"cc_mostly_sunny_49.svg",label:"Mostly sunny"},{icon:"cc_partly_cloudy_49.svg",label:"Partly cloudy"},{icon:"cc_mostly_cloudy_49.svg",label:"Mostly cloudy"},{icon:"cc_cloudy_49.svg",label:"Cloudy"}],a={rainfall:{"NO RAIN":"cc_sunny_49.svg","LIGHT RAINS":"rainfall_light_rain_49.svg","MODERATE RAINS":"rainfall_moderate_rain_49.svg","HEAVY RAINS":"rainfall_heavy_rain_49.svg"},cloudCover:{SUNNY:"cc_sunny_49.svg","MOSTLY SUNNY":"cc_mostly_sunny_49.svg","PARTLY CLOUDY":"cc_partly_cloudy_49.svg","MOSTLY CLOUDY":"cc_mostly_cloudy_49.svg",CLOUDY:"cc_cloudy_49.svg"}}},99108:function(e){e.exports={tooltipCustom:"Map_tooltipCustom___IYju"}}}]);